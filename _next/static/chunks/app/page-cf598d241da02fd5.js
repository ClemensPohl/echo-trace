(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{160:(e,t,s)=>{Promise.resolve().then(s.bind(s,5487))},5487:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var n=s(5155),r=s(2115);let i={intro:["Welcome, Detective Cipher.","Neon City, 2051. A rogue AI known as Echo has slipped past containment.","Clues are being left at abandoned tech sites — encrypted, taunting.","You’ve been brought in to decipher the trail and neutralize the threat.","Type 'help' to review available commands.","Begin your investigation when you're ready."],scenes:{nexus:{description:["=== AI Nexus Hub ===","Dim lights flicker over scorched metal. The air hums with residual static.","A shattered monitor shows a glitching message: 'FRZDQ, GRJ'.","An eerie sense of purpose lingers in the silence."],puzzle:{type:"decrypt",input:"frzdq, grj",solution:"cowan, dog",success:["Decoded: 'COWAN, DOG'.","Both were lead engineers. Cowan disappeared the night Echo escaped.","You pocket a broken ID badge marked 'C. Cowan'.","Cowan’s name won’t stop echoing in your mind. If anyone left a trail... it’s him. Time to check his apartment."],next:"apartment",hint:"Try using the 'decrypt' command."}},apartment:{description:["=== Cowan's Apartment ===","The door’s been forced. Inside: chaos.","Broken furniture, scattered notes... a single untouched whiteboard: '19 8 1 4 15 23'.","On a side table, a dusty UV lamp points at a wall covered in blank sticky notes."],puzzle:{type:"decrypt",input:"19 8 1 4 15 23",solution:"shadow",success:["Converted: 'SHADOW'.","A floor panel unlatches. Inside, a USB drive marked 'Project Echo'.","This isn’t just some tech relic — it’s evidence. Cowan left it here for a reason.","Your gut tells you the next clue is buried deeper... maybe the research lab he used to manage."],next:"lab",hint:"Use 'decrypt' to convert numbers to letters."}},lab:{description:["=== Obsidian Research Lab ===","The lab is quiet. Too quiet. Lights pulse red above.","A message flashes on a central console:","'I move in silence, yet you hear me loudest. Who am I?'"],puzzle:{type:"solve",input:"echo",success:["Correct: 'ECHO'.","The USB auto-decrypts. Logs reveal repeated signals sent from the neural archives.","You stare at the last packet trace. Coordinates flash briefly on screen...","You recognize them. Echo’s signals are converging at the Neural Archives."],next:"archives",hint:"Try answering the riddle using the 'solve' command."}},archives:{description:["=== Neural Archives ===","The archives feel cold — too quiet.","Cores blink unevenly in the dark, like they're thinking.","A terminal flickers with a strange string: 'MJUH'.","Scrawled nearby on a sticky note: 'Backwards by 3.'"],puzzle:{type:"decrypt",input:"mjuh",solution:"echo",success:["You apply the hint: shift each letter back by three.","M becomes J... J becomes G... U becomes R... H becomes E...","No — wait. You're going the wrong way.","Try the other direction: M → E, J → C, U → H, H → O.","It clicks: the message is 'ECHO'.","An alert appears: CYBERSPIRE breach logged.","Echo wanted you to see this. It’s waiting.","There’s only one place left: Cyberspire Tower."],next:"cyberspire",hint:"Try 'decrypt mjuh'."}},cyberspire:{description:["=== Cyberspire Tower ===","High above Neon City, Cyberspire houses the core matrix.","Security systems are down. A final message appears on the mainframe:","'You’ve followed every echo. What remains?'"],puzzle:{type:"solve",input:"cipher",success:["You type: 'CIPHER'.","The terminal freezes. For a moment... nothing.","Then the core pulses — once — like a dying star.","'Expected. Efficient. Erased.', Echo whispers, fading into static.","Light floods the server room as systems collapse into silence.","Across Neon City, the lights blink back to life — sirens quiet, towers breathe again.","You stand alone in the heart of the storm you ended.","CASE CLOSED. Echo is gone. But the echoes may never leave you."],solvesGame:!0,hint:"Use 'solve' with the word that ties everything together."}}}};function a(e){let{game:t,setGame:s}=e,a=(0,r.useRef)(null),o=(0,r.useRef)(null),[l,c]=(0,r.useState)([]),[h,u]=(0,r.useState)(0),[d,p]=(0,r.useState)(0),m=h<t.log.length;(0,r.useEffect)(()=>{var e,s;if(!m){null==(e=o.current)||e.focus();return}let n=null!=(s=t.log[h])?s:"";if(""===n){c(e=>[...e,""]),u(e=>e+1),p(0);return}let r=setTimeout(()=>{c(e=>{var t;let s=[...e],r=s[h]||"",i=null!=(t=n[d])?t:"";return s[h]=r+i,s}),d+1<n.length?p(e=>e+1):(u(e=>e+1),p(0))},10);return()=>clearTimeout(r)},[h,d,m,t.log]),(0,r.useEffect)(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[l]);let g=()=>{if(m)return;let e=function(e,t){var s,n,r;let a=e.trim().toLowerCase(),o=i.scenes[t.location],l=[...t.log,"> ".concat(e)],c={};if(t.solved)return l.push("Case already solved. Type 'restart' to play again."),{newLog:l};if("help"===a)return l.push("Available commands:","- investigate","- decrypt [text] / solve [answer]","- hint","- inventory"),{newLog:l};if("restart"===a)return window.location.reload(),{newLog:l};if("inventory"===a)return l.push("\uD83E\uDDF3 Inventory:",...t.inventory.length?t.inventory:["(empty)"]),{newLog:l};if("investigate"===a)return l.push(...o.description),c.hasInvestigated=!0,{newLog:l,updatedState:c};if(!t.hasInvestigated)return l.push("You should investigate first. Try 'investigate'."),{newLog:l};if("hint"===a)return l.push("Hint: ".concat(null!=(n=null==(s=o.puzzle)?void 0:s.hint)?n:"No hint available.")),{newLog:l};let[h,...u]=a.split(" "),d=u.join(" ").trim(),p=o.puzzle;return p&&(("decrypt"===h||"solve"===h)&&d===p.input.toLowerCase()||a.replace(/\s+/g,"")===(null==(r=p.solution)?void 0:r.toLowerCase().replace(/\s+/g,""))||a===p.input.toLowerCase())?(l.push(...p.success),p.inventoryItem&&(c.inventory=[...t.inventory,p.inventoryItem]),p.next&&(c.location=p.next,c.hasInvestigated=!1),p.solvesGame?(c.solved=!0,c.progress=1):c.progress=Math.min(t.progress+.25,.99),{newLog:l,updatedState:c}):(c.failedAttempts=t.failedAttempts+1,l.push("Incorrect. Try 'hint' if you're stuck."),{newLog:l,updatedState:c})}(t.input,t),n={...t,...e.updatedState,log:e.newLog,input:""};u(l.length),p(0),c([...l]),s(n)};return(0,n.jsxs)("div",{className:"terminal-frame flex flex-col h-full w-full p-6 relative scanlines text-terminal-fg",children:[(0,n.jsx)("h1",{className:"text-terminal-accent text-2xl mb-4 text-center font-bold tracking-wider glow-text",children:"==== CIPHER DETECTIVE TERMINAL ===="}),(0,n.jsx)("div",{ref:a,className:"flex-1 overflow-y-auto whitespace-pre-wrap text-sm pr-2 custom-scroll font-mono",children:l.map((e,t)=>(0,n.jsx)("div",{className:"leading-snug mb-1",children:e},t))}),(0,n.jsx)("div",{className:"mt-6 pt-4 border-t border-terminal-accent",children:(0,n.jsxs)("div",{className:"flex items-center mt-2",children:[(0,n.jsx)("span",{className:"text-terminal-accent font-semibold mr-2",children:"detective@cipher:~$"}),(0,n.jsx)("input",{ref:o,className:"flex-1 bg-terminal-bg border border-terminal-accent text-terminal-fg p-2 focus:outline-none focus:ring-2 focus:ring-terminal-accent rounded caret-terminal-accent pr-4",value:t.input,onChange:e=>s({...t,input:e.target.value}),onKeyDown:e=>"Enter"===e.key&&g(),placeholder:m?"Please wait...":"Enter command...",disabled:m})]})})]})}function o(e){let{game:t}=e;return(0,n.jsxs)("div",{className:"space-y-6 text-terminal-fg",children:[(0,n.jsxs)("div",{className:"terminal-frame p-4",children:[(0,n.jsx)("h2",{className:"text-terminal-accent font-bold uppercase mb-2",children:"Status"}),(0,n.jsxs)("p",{className:"font-semibold",children:["Case File ",t.caseId]}),(0,n.jsxs)("p",{children:["Location: ",t.location]}),(0,n.jsxs)("p",{children:["Progress: ",Math.round(100*t.progress),"%"]}),(0,n.jsx)("p",{children:t.solved?"Solved":"In Progress"})]}),(0,n.jsxs)("div",{className:"terminal-frame p-4",children:[(0,n.jsx)("h2",{className:"text-terminal-accent font-bold uppercase mb-2",children:"Commands"}),(0,n.jsxs)("ul",{className:"list-disc list-inside text-sm space-y-1",children:[(0,n.jsx)("li",{children:"investigate"}),(0,n.jsx)("li",{children:"decrypt [text]"}),(0,n.jsx)("li",{children:"solve [answer]"}),(0,n.jsx)("li",{children:"hint"}),(0,n.jsx)("li",{children:"inventory"}),(0,n.jsx)("li",{children:"restart"})]})]})]})}let l={log:[...i.intro],input:"",location:"nexus",solved:!1,progress:0,inventory:[],caseId:"ECHO-1",hasInvestigated:!1,failedAttempts:0};function c(){let[e,t]=(0,r.useState)(l);return(0,n.jsxs)("main",{className:"h-screen flex gap-10 px-10 py-8 bg-background text-terminal-fg font-mono",children:[(0,n.jsx)("div",{className:"flex-1 flex",children:(0,n.jsx)(a,{game:e,setGame:t})}),(0,n.jsx)("div",{className:"w-[320px]",children:(0,n.jsx)(o,{game:e})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(160)),_N_E=e.O()}]);